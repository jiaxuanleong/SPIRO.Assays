# process_rootgrowth_data.R - 
#
#   takes data generated by cleanup_rootgrowth_data.R and estimates per-group root growth rates.

# there is no support for directory picker under non-windows platforms
if (.Platform$OS.type == 'unix') {
  dir <- readline(prompt = "Enter directory: ")
} else {
  dir <- choose.dir(getwd(), "Choose folder to process")
}

resultsdir <- paste0(dir, '/Results')
outdir <- paste0(resultsdir, '/Root growth assay')

data <- read.delim(paste0(outdir, '/rootgrowth.postQC.tsv'), header=T, row.names=NULL)

mod <- lm(Branch.length ~ GID + normtime - 1, data=data)
print(summary(mod))
